{% extends "base.html" %}
{% block title %}Compare Articles{% endblock %}
{% block content %}
<div class="container mt-4">
  <h2>üîç Compare Two News Articles</h2>
  <form method="POST">
    <div class="row mb-3">
      <div class="col-md-6">
        <label>Article 1 URL</label>
        <input type="text" name="url1" class="form-control" placeholder="https://...">
        <label class="mt-2">OR Paste Article 1 Text</label>
        <textarea name="text1" rows="6" class="form-control"></textarea>
      </div>
      <div class="col-md-6">
        <label>Article 2 URL</label>
        <input type="text" name="url2" class="form-control" placeholder="https://...">
        <label class="mt-2">OR Paste Article 2 Text</label>
        <textarea name="text2" rows="6" class="form-control"></textarea>
      </div>
    </div>
    <button class="btn btn-primary">Compare</button>
  </form>

  {% if results %}
  <hr>
  <div class="row mt-4">
    {% for result in results %}
    <div class="col-md-6">
      <h4>üìù Article {{ loop.index }}</h4>
      <p><strong>Summary:</strong> {{ result.summary }}</p>
      <p><strong>Perspective:</strong> <span class="badge bg-info">{{ result.perspective_label }}</span></p>
      <p><strong>Tone:</strong> <span class="badge bg-{{ result.tone_color }}">{{ result.tone }}</span></p>
      <ul>
        {% for key, value in result.emotion_score.items() %}
        <li>{{ key.capitalize() }}: {{ value }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endfor %}
  </div>
  {% endif %}
</div>
{% endblock %}
